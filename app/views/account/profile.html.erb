<h2><%= t("account.settings.title") %></h2>

<div class="container">
  <div class="row mt-4">
    <div class="col">
      <% UserDetails::ALL_ATTRIBUTES.each do |attr| %>
        <div class="row">
        <%# order of conditions matters here %>
        <% if attr == "password" %>
          <%= render UserDetailsFieldComponent.new(attribute: attr.to_s, details: @current_details, value: link_to_keycloak_password_reset.html_safe, editable: false) %>
        <% elsif current_user.provider == "catalogue_patron" && UserDetails::PATRON_ATTRIBUTES.include?(attr)  %>
          <%= render UserDetailsFieldComponent.new(attribute: attr.to_s, details: @current_details, editable: UserDetails::PATRON_EDITABLE_ATTRIBUTES.include?(attr)) %>
        <% elsif UserDetails::STAFF_ATTRIBUTES.include?(attr) %>
          <%= render UserDetailsFieldComponent.new(attribute: attr.to_s, details: @current_details, editable: UserDetails::STAFF_EDITABLE_ATTRIBUTES.include?(attr)) %>
        <% end %>
        </div>
      <% end %>
    </div>

  </div>
</div>
